@model Ankh_Morpork_MVC.Dtos.EventDto
@using Ankh_Morpork_MVC.Models
@{
    var character = (Assassin)Model.Character;
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<p>Score: @Model.Score</p>
<h2>@character.Name of Assassin's Guild</h2>
<h3>@character.MeetMessage</h3>
<p>Money: @Model.PlayerMoney</p>
<p>Hoods: @Model.PlayerHood</p>
<p>@character.OfferMessage</p>
<p id="show-reward"></p>
@using (Html.BeginForm("Accept", "Assassins", new { reward = Model.Reward, hood = false }))
{
    @Html.TextBoxFor(m => m.Reward, null, new { type = "range", @class = "form-range", min = "0", max = Model.PlayerMoney, step = "0.01", id = "reward-bar" })
    <button type="submit">Submit</button>
    @Html.ActionLink("Deny", "Deny", "Assassins", new { accept = false }, null)
    { if (Model.PlayerHood > 0)
        {
            @Html.ActionLink("Use Hood", "Accept", "Assassins", new { reward = 0, hood = true }, null)

        }
    }
}

@section Scripts{
    <script>
        var slider = document.getElementById("reward-bar");
        var output = document.getElementById("show-reward");
        output.innerHTML = slider.value;
        slider.oninput = function () {
            output.innerHTML = this.value;
        }
    </script>
} 